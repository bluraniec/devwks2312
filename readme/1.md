## Chapter 1 - IOS-XR Model-Driven Telemetry

> :white_check_mark: We know already what is the Closed-Loop Automation.  
> :arrow_down: Now it's the time to dirty our hands and check the basics of how does it work! <br>
> Let's start! :clap: :muscle: 

### 1st step - Configure sensor-path on IOS-XR:
Run `ls` command inside of your NSO container to check the structure of deployed NSO:
```
RP/0/RP0/CPU0:XR1#configure terminal 
RP/0/RP0/CPU0:XR1(config)#telemetry model-driven
RP/0/RP0/CPU0:XR1(config-model-driven)#sensor-group CLEU_BGP_SENSOR
RP/0/RP0/CPU0:XR1(config-model-driven-snsr-grp)#sensor-path Cisco-IOS-XR-ipv4-bgp-oper:bgp/instances/instance/instance-active/default-vrf/neighbors/neighbor
RP/0/RP0/CPU0:XR1(config-model-driven-snsr-grp)#commit
```
Great! We see 2 directories:   

### 2nd step - Configure destination-group on IOS-XR:
Run `ls` command inside of your NSO container to check the structure of deployed NSO:
```
RP/0/RP0/CPU0:XR1(config-model-driven-snsr-grp)#exit
RP/0/RP0/CPU0:XR1(config-model-driven)#destination-group CLEU_BGP_DEST
RP/0/RP0/CPU0:XR1(config-model-driven)#address-family ipv4 198.18.134.28 port 5432
RP/0/RP0/CPU0:XR1(config-model-driven-dest-addr)#encoding self-describing-gbp
RP/0/RP0/CPU0:XR1(config-model-driven-dest-addr)#protocol tcp
RP/0/RP0/CPU0:XR1(config-model-driven-dest-addr)#commit
```
Great! We see 2 directories:   

### 3rd step - Configure subscription on IOS-XR:
Run `ls` command inside of your NSO container to check the structure of deployed NSO:
```
RP/0/RP0/CPU0:XR1(config-model-driven-dest-addr)#exit
RP/0/RP0/CPU0:XR1(config-model-driven-dest)#exit
RP/0/RP0/CPU0:XR1(config-model-driven)#subscription CLEU_BGP_SUB
RP/0/RP0/CPU0:XR1(config-model-driven-subs)#sensor-group-id CLEU_BGP_SENSOR sample-interval 3000
RP/0/RP0/CPU0:XR1(config-model-driven-subs)#destination-id CLEU_BGP_DEST
RP/0/RP0/CPU0:XR1(config-mdt-subscription)#commit
```
Great! We see 2 directories:   

### 4th step - Verify telemetry configuration:
Run `ls` command inside of your NSO container to check the structure of deployed NSO:
```
root@45a559b161b4:/opt# ls
```

test
---
<h4 align="center">[2/12]</h4>
<h4 align="center"> <a href="../README.md"> :arrow_left: Intro </a> || <a href="/readme/2.md"> Telemetry Application Stack [1/3] :arrow_right: </a> </h4>

